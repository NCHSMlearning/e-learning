<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NCHSM Super Admin Dashboard - Final Revision</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/main.min.css">
    <link rel="stylesheet" href="style.css"> 
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="images/Logo_NCHSM.png" alt="Logo" onerror="this.style.display='none'">
                <h2>Super Admin</h2>
            </div>
            <ul class="nav" id="mainNav">
                <li><a href="#" data-tab="dashboard" class="active">Dashboard</a></li>
                <li><a href="#" data-tab="users">Manage Users</a></li> 
                <li><a href="#" data-tab="pending">Pending Approvals</a></li> 
                <li><a href="#" data-tab="enroll">Enroll Accounts</a></li>
                <li><a href="#" data-tab="courses">Courses</a></li>
                <li><a href="#" data-tab="sessions">Manage Sessions</a></li> 
                <li><a href="#" data-tab="attendance">Attendance & Check-in</a></li> 
                <li><a href="#" data-tab="cats">CATS/Exams</a></li>
                <li><a href="#" data-tab="messages">Inbox</a></li>
                <li><a href="#" data-tab="calendar">System Calendar</a></li> 
                <li><a href="#" data-tab="resources">Resources</a></li>
                <li><a href="#" data-tab="welcome-editor">Edit Welcome Message</a></li> 
                <li><a href="#" data-tab="security">Security & Settings</a></li>
                <li><a href="#" data-tab="backup">Backup & Restore</a></li> 
            </ul>
            <div class="logout"><a href="#" onclick="logout()">Logout</a></div>
        </aside>

        <main class="main">
            <header>
                <h1>Welcome, Super Admin!</h1>
                <p class="subtitle">Full system oversight and user management</p>
            </header>

            <section id="dashboard" class="tab-content active">
                <div id="student-welcome-message">
                    <p>Loading NCHSM Welcome Message...</p>
                </div>
                <div class="cards">
                    <div class="card" onclick="showTab('users')"><h3>Total Users</h3><p class="data" id="totalUsers">0</p></div>
                    <div class="card" onclick="showTab('pending')"><h3>Pending Approvals</h3><p class="data" id="pendingApprovals">0</p></div>
                    <div class="card" onclick="showTab('enroll')"><h3>Total Students</h3><p class="data" id="totalStudents">0</p></div>
                    <div class="card" onclick="showTab('attendance')"><h3>Today's Geo Check-ins</h3><p class="data" id="todayCheckins">0</p></div>
                </div>
            </section>

            <section id="users" class="tab-content">
                <h2>System Users</h2>
                <p>Manage all user accounts (Admin, Student, Lecturer, etc.) and assign roles.</p>
                <div class="toolbar">
                    <input type="text" id="user-search" placeholder="Search by Name or Email..." onkeyup="filterTable('user-search', 'users-table', [1, 2, 4])">
                    <button onclick="exportTableToCSV('users-table', 'System_Users_Export.csv')" class="btn-action export-btn">Export Users (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Role</th><th>Program</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="users-table">
                        <tr><td colspan="7">Loading users...</td></tr>
                    </tbody>
                </table>
            </section>

            <section id="pending" class="tab-content">
                <h2>Pending Approvals</h2>
                <p>Accounts listed below require approval before they can log in.</p>
                <table>
                    <thead><tr><th>Name</th><th>Email</th><th>Role</th><th>Program</th><th>Registered</th><th>Actions</th></tr></thead>
                    <tbody id="pending-table"><tr><td colspan="6">Loading pending users...</td></tr></tbody>
                </table>
            </section>
            
            <section id="enroll" class="tab-content"> 
                <h2>Enroll Accounts</h2>
                <p>Use the form below to **enroll new Student, Admin, or Lecturer accounts**.</p>
                <form id="add-account-form" class="inline-form">
                    <input type="text" id="account-name" placeholder="Full Name" required>
                    <input type="email" id="account-email" placeholder="Email" required>
                    <input type="password" id="account-password" placeholder="Password" required autocomplete="new-password"> 
                    <select id="account-role" required>
                        <option value="student">Student</option>
                        <option value="admin">Admin</option>
                        <option value="lecturer">Lecturer</option> 
                    </select>
                    <input type="text" id="account-phone" placeholder="Phone" required>
                    <select id="account-program" required>
                        <option value="">-- Select Program --</option>
                        <option value="KRCHN">KRCHN Students</option>
                        <option value="TVET">TVET Students</option>
                    </select>
                    <select id="account-intake" required>
                        <option value="">-- Select Intake Year --</option>
                        <option value="2024">March 2024</option>
                        <option value="2025">March 2025</option>
                        <option value="2026">March 2026</option>
                        <option value="2027">March 2027</option>
                        <option value="2028">March 2028</option>
                    </select>
                    <select id="account-block-term" required>
                        <option value="">-- Select Block/Term --</option>
                    </select>
                    <button type="submit">Enroll Account</button>
                </form>
                
                <h3>Enrolled Students (For quick reference)</h3>
                <div class="toolbar">
                    <button onclick="exportTableToCSV('students-table', 'Enrolled_Students_Export.csv')" class="btn-action export-btn">Export Student List (CSV)</button>
                </div>
                <input type="text" id="student-search" placeholder="Search Students..." onkeyup="filterTable('student-search', 'students-table', [1, 3, 5])">
                <table>
                    <thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Program</th><th>Intake</th><th>Block/Term</th><th>Phone</th><th>Status</th><th>Actions</th></tr></thead>
                    <tbody id="students-table">
                        <tr><td colspan="9">Loading students...</td></tr>
                    </tbody>
                </table>
            </section>

            <section id="courses" class="tab-content">
                <h2>Courses</h2>
                <form id="add-course-form" class="inline-form">
                    <input type="text" id="course-name" placeholder="Course Name" required>
                    <input type="text" id="course-unit-code" placeholder="Unit Code (e.g., NURS101)" required> 
                    <input type="text" id="course-description" placeholder="Description (Optional)">
                    
                    <select id="course-program" required> 
                        <option value="">-- Select Program Type --</option>
                        <option value="KRCHN">KRCHN</option>
                        <option value="TVET">TVET</option>
                    </select>
                    <select id="course-intake">
                        <option value="">-- Select Intake Year --</option>
                        <option value="2024">March 2024</option>
                        <option value="2025">March 2025</option>
                        <option value="2026">March 2026</option>
                        <option value="2027">March 2027</option>
                        <option value="2028">March 2028</option>
                    </select>
                    <select id="course-block">
                        <option value="">-- Select Block/Term --</option>
                    </select>
                    <button type="submit">Add Course</button>
                </form>
                <div class="toolbar">
                    <input type="text" id="course-search" placeholder="Search Courses..." onkeyup="filterTable('course-search', 'courses-table', [0, 1, 3])">
                    <button onclick="exportTableToCSV('courses-table', 'Course_Catalog_Export.csv')" class="btn-action export-btn">Export Courses (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>Course Name</th><th>Unit Code</th><th>Program</th><th>Intake</th><th>Block/Term</th><th>Actions</th></tr></thead> 
                    <tbody id="courses-table"><tr><td colspan="6">Loading courses...</td></tr></tbody>
                </table>
            </section>
            
            <section id="sessions" class="tab-content">
                <h2>Manage Sessions (Class, Clinical, Events)</h2>
                <p>Add and manage scheduled sessions. These will be automatically linked to the **System Calendar**.</p>
                
                <h3>Add New Session</h3>
                <form id="add-session-form" class="inline-form">
                    <select id="session_type" required>
                        <option value="">-- Select Session Type --</option>
                        <option value="class">Class Session</option>
                        <option value="clinical">Clinical Rotation</option>
                        <option value="exam">Exam/CAT</option>
                        <option value="event">General Event</option>
                    </select>
                    <input type="text" id="session_title" placeholder="Title/Topic" required>
                    <input type="date" id="session_date" required>
                    <input type="time" id="session_time" placeholder="Start Time">

                    <select id="session_program" required>
                        <option value="">-- Select Program --</option>
                        <option value="KRCHN">KRCHN Students</option>
                        <option value="TVET">TVET Students</option>
                    </select>
                    <select id="session_intake" required>
                        <option value="">-- Select Intake Year --</option>
                        <option value="2024">March 2024</option>
                        <option value="2025">March 2025</option>
                        <option value="2026">March 2026</option>
                        <option value="2027">March 2027</option>
                        <option value="2028">March 2028</option> 
                    </select>
                    <select id="session_block_term" required> 
                        <option value="">-- Select Block/Term --</option>
                    </select>
                    <select id="session_course_id"><option value="">-- Select Course (Optional) --</option></select>
                    <button type="submit">Schedule Session</button>
                </form>
                
                <hr>
                
                <h3>Scheduled Sessions</h3>
                <div class="toolbar">
                    <button onclick="exportTableToCSV('scheduled-sessions-table', 'Scheduled_Sessions_Export.csv')" class="btn-action export-btn">Export Sessions (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>Type</th><th>Title</th><th>Date/Time</th><th>Program</th><th>Block/Term</th><th>Actions</th></tr></thead>
                    <tbody id="scheduled-sessions-table"><tr><td colspan="6">Loading scheduled sessions...</td></tr></tbody>
                </table>
                
                <hr>

                <h3>Clinical Rotation Management</h3>
                <p>Define/Edit names for clinical rotations by program/intake/block/term.</p>
                <form id="edit-clinical-names-form" class="inline-form">
                    <select id="clinical_program" required>
                        <option value="">-- Select Program --</option>
                        <option value="KRCHN">KRCHN Students</option>
                        <option value="TVET">TVET Students</option>
                    </select>
                    <select id="clinical_intake" required>
                        <option value="">-- Select Intake Year --</option>
                        <option value="2024">March 2024</option>
                        <option value="2025">March 2025</option>
                        <option value="2026">March 2026</option>
                        <option value="2027">March 2027</option>
                        <option value="2028">March 2028</option>
                    </select>
                    <select id="clinical_block_term" required>
                        <option value="">-- Select Block/Term --</option>
                    </select>
                    <input type="text" id="clinical_name_to_edit" placeholder="New Clinical Area Name (e.g., PEDIATRICS Term 1)" required>
                    <button type="button" onclick="saveClinicalName()">Update Clinical Name</button>
                </form>

            </section>

           <section id="attendance" class="tab-content">
    <h2 style="color: #4C1D95;">Daily Attendance & Geo Check-in</h2>

    <h3>Admin/Lecturer Self Check-in (Mark My Attendance) 📍</h3>
    <p>Check in your own presence for the day. (Uses current location/time, requires Geo-location access).</p>
    <button onclick="adminCheckIn()" class="btn-action">Mark My Attendance Now</button>
    
    <hr>
    
    <h3>Admin/Super Admin Manual Student Check-in</h3>
    <p>Use this form to manually mark attendance for a student.</p>
    <form id="manual-attendance-form" class="inline-form">
        <select id="att_student_id" required><option value="">-- Select Student --</option></select>
        <select id="att_session_type" required>
            <option value="">-- Select Session Type --</option>
            <option value="classroom">Classroom</option>
            <option value="clinical">Clinical Rotation</option>
            <option value="virtual">Virtual</option>
            <option value="call">On Call</option>
        </select>
        <input type="text" id="att_department" placeholder="Department/Area" required>
        <select id="att_course_id"><option value="">-- Select Course (Optional) --</option></select>
        <input id="att_location" placeholder="Location">
        <input id="att_date" type="date" required>
        <input id="att_time" type="time">
        <button type="submit" class="btn-action">Mark Attendance</button>
    </form>

    <div id="attendance-records">
        <h3 style="color: #4C1D95;">Today's Attendance Records (Pending & Verified)</h3>
        <input type="text" id="attendance-search" placeholder="Search by Student Name..." onkeyup="filterTable('attendance-search', 'attendance-table', [0, 1, 2])">
        <div class="toolbar">
            <button onclick="exportTableToCSV('attendance-table', 'Todays_Attendance_Export.csv')" class="btn-action export-btn">Export Today's Records (CSV)</button>
        </div>
        <table>
            <thead>
                <tr>
                    <th>Student</th>
                    <th>Session Type</th>
                    <th>Target (Course/Clinical)</th>
                    <th>Department/Location</th>
                    <th>Date/Time</th>
                    <th>Geo Data</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="attendance-table">
                <tr><td colspan="7">Loading today's records...</td></tr>
            </tbody>
        </table>
    </div>

    <div id="past-attendance-history">
        <h3 style="color: #4C1D95;">Past Attendance History (All Users)</h3>
        <p>Records from previous days for all users.</p>
        <div class="toolbar">
            <button onclick="exportTableToCSV('past-attendance-table', 'Past_Attendance_History_Export.csv')" class="btn-action export-btn">Export History (CSV)</button>
        </div>
        <table>
            <thead>
                <tr>
                    <th>User</th>
                    <th>Session Type</th>
                    <th>Target (Course/Clinical)</th>
                    <th>Date/Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="past-attendance-table">
                <tr><td colspan="6">Loading history...</td></tr>
            </tbody>
        </table>
    </div>
</section>
            <section id="cats" class="tab-content">
                <h2>CATS / Exams</h2>
                <p>Note: Selecting a **Program** dynamically filters the **Course** and **Block/Term** options.</p>
                <form id="add-exam-form" class="inline-form">
                    <select id="exam_program" required> 
                        <option value="">-- Select Program --</option>
                        <option value="KRCHN">KRCHN Students</option>
                        <option value="TVET">TVET Students</option>
                    </select>
                    <select id="exam_course_id" required><option value="">-- Select Course --</option></select>
                    <input type="text" id="exam_title" placeholder="Exam Title" required>
                    <input type="date" id="exam_date" required>
                    <select id="exam_status"><option>Upcoming</option><option>Completed</option></select>
                    <select id="exam_intake">
                        <option value="">-- Select Intake Year --</option>
                        <option value="2024">March 2024</option>
                        <option value="2025">March 2025</option>
                        <option value="2026">March 2026</option>
                        <option value="2027">March 2027</option>
                        <option value="2028">March 2028</option>
                    </select>
                    <select id="exam_block_term">
                        <option value="">-- Select Block/Term --</option>
                    </select>
                    <button type="submit">Add Exam</button>
                </form>
                <div class="toolbar">
                    <input type="text" id="exam-search" placeholder="Search Exams..." onkeyup="filterTable('exam-search', 'exams-table', [2, 1, 6])">
                    <button onclick="exportTableToCSV('exams-table', 'Exams_and_CATS_Export.csv')" class="btn-action export-btn">Export Exams (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>Program</th><th>Course</th><th>Title</th><th>Date</th><th>Status</th><th>Intake</th><th>Block/Term</th><th>Actions</th></tr></thead>
                    <tbody id="exams-table"><tr><td colspan="8">Loading exams...</td></tr></tbody>
                </table>
            </section>

          <section id="resources" class="tab-content">
  <h2>Resource Center</h2>
  <p>Upload files to share with students based on their program, intake year, and block/term.</p>

  <form id="upload-resource-form" class="inline-form">
    <select id="resource_program" required>
      <option value="">-- Select Program --</option>
      <option value="KRCHN">KRCHN Students</option>
      <option value="TVET">TVET Students</option>
    </select>

    <select id="resource_intake" required>
      <option value="">-- Select Intake Year --</option>
      <option value="2024">March 2024</option>
      <option value="2025">March 2025</option>
      <option value="2026">March 2026</option>
      <option value="2027">March 2027</option>
      <option value="2028">March 2028</option>
    </select>

    <select id="resource_block" required>
      <option value="">-- Select Block/Term --</option>
    </select>

    <input type="file" id="resource-file" required>
    <input type="text" id="resource-title" placeholder="Title for file" required>
    <button type="submit">Upload</button>
  </form>

  <div class="toolbar">
    <input 
      type="text" 
      id="resource-search" 
      placeholder="Search Resources..." 
      onkeyup="filterTable('resource-search', 'resources-list', [0,1,2,3])">
    <button 
      onclick="exportTableToCSV('resources-list', 'Resource_Index_Export.csv')" 
      class="btn-action export-btn">
      Export Resource List (CSV)
    </button>
  </div>

  <table>
    <thead>
      <tr>
        <th>Program</th>
        <th>Title</th>
        <th>Intake</th>
        <th>Block/Term</th>
        <th>Uploaded By</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody id="resources-list">
      <tr><td colspan="7">Loading resources...</td></tr>
    </tbody>
  </table>
</section>

            <section id="messages" class="tab-content">
                <h2>Inbox / Messages</h2>
                <form id="send-message-form" class="inline-form">
                    <select id="msg_program" required>
                        <option value="">-- Select Program --</option>
                        <option value="ALL">ALL Students</option>
                        <option value="KRCHN">KRCHN Students</option>
                        <option value="TIVET">TIVET Students</option>
                    </select>
                    <textarea id="msg_body" placeholder="Message Body" rows="3"></textarea>
                    <button type="submit">Send Message</button>
                </form>
                <h3>Recent Messages</h3>
                <div class="toolbar">
                    <button onclick="exportTableToCSV('messages-table', 'Message_History_Export.csv')" class="btn-action export-btn">Export Messages (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>To Program</th><th>Message</th><th>Date</th></tr></thead>
                    <tbody id="messages-table"><tr><td colspan="3">Loading messages...</td></tr></tbody>
                </table>
            </section>

            <section id="calendar" class="tab-content">
                <h2>System Calendar</h2>
                <p>This calendar will display all scheduled Sessions, Exams/CATS, and Clinical Rotations.</p>
                <div id="fullCalendarDisplay"></div> 
            </section>
            
            <section id="security" class="tab-content">
                <h2>System Security & Settings</h2>
                
                <h3>Force Password Reset</h3>
                <p>Use this tool for an immediate, targeted password reset for any user via their email.</p>
                <form id="global-password-reset-form" class="inline-form">
                    <input type="email" id="reset_user_email" placeholder="User Email Address" required>
                    <input type="password" id="new_password" placeholder="New Password" required autocomplete="new-password"> 
                    <button type="submit" class="btn-danger">Force Password Reset</button>
                </form>

                <hr>

                <h3>Account Deactivation</h3>
                <p>Block a user from logging in by entering their account ID.</p>
                <form id="account-deactivation-form" class="inline-form">
                    <input type="text" id="deactivate_user_id" placeholder="User ID to Deactivate" required>
                    <button type="submit" class="btn-danger">Deactivate Account</button>
                </form>
            </section>

            <section id="welcome-editor" class="tab-content">
                <h2>Edit Student Welcome Message</h2>
                <p>The **Save Welcome Message** button must update the live message on the student-facing site.</p>
                <form id="edit-welcome-form">
                    <textarea id="welcome-message-editor" rows="20" placeholder="Paste the HTML content for the Welcome Message here..."></textarea>
                    <button type="submit" class="btn-action">Save Welcome Message</button>
                </form>
                <h3>Current Live Preview</h3>
                <div id="live-preview">
                    <p>Loading live preview...</p>
                </div>
            </section>
            
            <section id="backup" class="tab-content">
                <h2>Database Backup & Restore</h2>
                <p>Manage database backups to prevent data loss. </p>
                
                <h3>Backup Actions</h3>
                <button onclick="triggerBackup()" class="btn-action">Generate New Backup (.sql)</button>
                
                <hr>

                <h3>Restore Database</h3>
                <p>WARNING: Restoring will overwrite current live data. Use with caution.</p>
                <form id="restore-form">
                    <input type="file" id="restore-file" accept=".sql" required>
                    <button type="submit" class="btn-danger">Restore from File</button>
                </form>
                
                <hr>
                
                <h3>Recent Backups</h3>
                <div class="toolbar">
                    <button onclick="exportTableToCSV('backup-history-table', 'Backup_History_Index_Export.csv')" class="btn-action export-btn">Export Backup Index (CSV)</button>
                </div>
                <table>
                    <thead><tr><th>File Name</th><th>Date</th><th>Size</th><th>Actions</th></tr></thead>
                    <tbody id="backup-history-table"><tr><td colspan="4">Loading backup history...</td></tr></tbody>
                </table>
            </section>
        </main>
    </div>

    <div id="mapModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('mapModal').style.display='none'">&times;</span>
            <h2>Geo Location Map</h2>
            <div id="mapbox-map" style="height: 400px;">Map will load here...</div> 
            <p id="map-details"></p>
        </div>
    </div>
    
    <div id="courseEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('courseEditModal').style.display='none'">&times;</span>
            <h2>Edit Course Details</h2>
            <form id="edit-course-form">
                <input type="hidden" id="edit_course_id"> 
                
                <label for="edit_course_name">Course Name</label>
                <input type="text" id="edit_course_name" required>
                
                <label for="edit_course_unit_code">Unit Code</label>
                <input type="text" id="edit_course_unit_code" required>
                
                <label for="edit_course_description">Description (Optional)</label>
                <textarea id="edit_course_description" rows="3"></textarea>
                
                <hr>

                <label for="edit_course_program">Target Program</label>
                <select id="edit_course_program" required onchange="updateBlockTermOptions('edit_course_program', 'edit_course_block')">
                    <option value="KRCHN">KRCHN</option>
                    <option value="TVET">TVET</option>
                </select>
                
                <label for="edit_course_intake">Intake Year</label>
                <select id="edit_course_intake">
                    <option value="2024">March 2024</option>
                    <option value="2025">March 2025</option>
                    <option value="2026">March 2026</option>
                    <option value="2027">March 2027</option>
                    <option value="2028">March 2028</option>
                </select>
                
                <label for="edit_course_block">Block/Term</label>
                <select id="edit_course_block">
                    <option value="">-- Select Block/Term --</option>
                </select>

                <button type="submit" class="btn-action">Update Course</button>
            </form>
        </div>
    </div>
    
    <div id="userEditModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="document.getElementById('userEditModal').style.display='none'">&times;</span>
            <h2>Edit User Profile</h2>
            <form id="edit-user-form">
                
                <input type="hidden" id="edit_user_id"> 
                <p class="subtitle">Editing User ID: <span id="edit_user_id_display">N/A</span></p>

                <label for="edit_user_name">Full Name</label>
                <input type="text" id="edit_user_name" required>

                <label for="edit_user_email">Email</label>
                <input type="email" id="edit_user_email" required>

                <label for="edit_user_role">Role</label>
                <select id="edit_user_role" required>
                    <option value="student">Student</option>
                    <option value="lecturer">Lecturer</option>
                    <option value="admin">Admin</option>
                    <option value="superadmin">Super Admin</option>
                </select>
                
                <label for="edit_user_program">Program Type</label>
                <select id="edit_user_program" required>
                    <option value="KRCHN">KRCHN</option>
                    <option value="TVET">TVET</option>
                </select>

                <label for="edit_user_intake">Intake Year</label>
                <input type="text" id="edit_user_intake" placeholder="e.g., 2024" required>
                
                <label for="edit_user_block">Block/Term</label>
                <select id="edit_user_block" required>
                    <option value="">-- Select Block/Term --</option>
                </select>

                <label for="edit_user_block_status">Program Blocked Status</label>
                <select id="edit_user_block_status" required>
                    <option value="false">Active (Not Blocked)</option>
                    <option value="true">BLOCKED</option>
                </select>
                
                <hr>
                <h3>Password Reset (Optional)</h3>
                <p id="password-reset-feedback" style="color: red;"></p>
                <label for="edit_user_new_password">New Password</label>
                <input type="password" id="edit_user_new_password" placeholder="Leave blank to keep current password" autocomplete="new-password"> 
                
                <label for="edit_user_confirm_password">Confirm New Password</label>
                <input type="password" id="edit_user_confirm_password" placeholder="Confirm new password" autocomplete="new-password"> 
                
                <button type="submit" class="btn-action">Save Changes</button>
            </form>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script> 
    <script src="script.js"></script>
    
    </body>
</html>
